/* Advanced tools styles */
   .tools-section {
       padding: 10px 0;
       background: #fdf0d5;
   }

   .tools-container {
       display: grid;
       grid-template-columns: 1fr;
       gap: 0rem;
       margin-top: 20px;
       margin-bottom: 15px;
       background: white;
       padding: 2rem;
       border-radius: 8px;
       box-shadow: 0 3px 15px rgba(55, 6, 23, 0.1);
   }

   /* Tool tabs navigation */
   .tool-tabs {
       display: flex;
       gap: 1rem;
       margin-bottom: 2rem;
       flex-wrap: wrap;
   }

   .tools-container h2 {
       margin-bottom: 1rem;
       margin-top: 0rem;
   }

   .tool-tab {
       padding: 0.75rem 1.5rem;
       background: #f5f5f5;
       border: none;
       border-radius: 4px;
       cursor: pointer;
       transition: all 0.3s ease;
       font-weight: 500;
       color: var(--dark-chocolate);
   }

   .tool-tab:hover {
       background: #e9e9e9;
   }

   .tool-tab.active {
       background: var(--burgundy);
       color: white;
   }

   /* Tool panels */
   .tool-panels {
       width: 100%;
   }

   .tool-panel {
       display: none;
       grid-template-columns: 1fr 1fr;
       gap: 2rem;
   }

   .tool-panel.active {
       display: grid;
   }

   /* File input styling */
   .file-input-section {
       grid-column: span 2;
       margin-bottom: 2rem;
   }

   .file-input-section label {
       display: inline-flex;
       align-items: center;
       justify-content: center;
       gap: 8px;
       padding: 0.75rem 1.5rem;
       background: var(--burgundy);
       color: white;
       border-radius: 4px;
       cursor: pointer;
       transition: all 0.3s ease;
       font-weight: 500;
       min-width: 160px;
   }

   .file-input-section label:hover {
       background: #d04831;
       transform: translateY(-2px);
   }

   #fileName {
       margin-left: 1rem;
       color: var(--dark-chocolate);
   }

   /* Preview area */
   .preview-area {
       background: white;
       padding: 2rem;
       border-radius: 8px;
       box-shadow: 0 3px 15px rgba(55, 6, 23, 0.1);
       height: 500px;
       display: flex;
       flex-direction: column;
   }

   .image-container {
       flex: 1;
       display: flex;
       align-items: center;
       justify-content: center;
       overflow: hidden;
   }

   .image-container img {
       max-width: 100%;
       max-height: 100%;
       object-fit: contain;
   }

   /* Control options styling */
   .resize-options,
   .filter-options,
   .text-options,
   .compress-options {
       margin-top: 0px;
       margin-bottom: 0px;
       background: white;
       padding: 2rem;
       border-radius: 8px;
       box-shadow: 0 3px 15px rgba(55, 6, 23, 0.1);
       height: 500px;
       overflow-y: auto;
   }

   .resize-options h3 {
       margin-top: 0px;
   }

   .option-group {
       margin-bottom: 1.5rem;
   }

   .option-group > label {
       display: block;
       margin-bottom: 0.5rem;
       color: var(--dark-chocolate);
       font-weight: 500;
   }

   /* Form controls styling */
   input[type="number"],
   input[type="text"],
   select {
       width: 100%;
       padding: 0.5rem;
       border: 1px solid #ddd;
       border-radius: 4px;
       font-family: 'Inter', sans-serif;
   }

   input[type="range"] {
       width: 100%;
       height: 8px;
       background: #eee;
       border-radius: 4px;
       outline: none;
       -webkit-appearance: none;
   }

   input[type="range"]::-webkit-slider-thumb {
       -webkit-appearance: none;
       width: 20px;
       height: 20px;
       background: var(--burgundy);
       border-radius: 50%;
       cursor: pointer;
   }

   .checkbox-label {
       display: flex;
       align-items: center;
       gap: 0.5rem;
       margin: 0.5rem 0;
       cursor: pointer;
   }

   /* Dimension inputs */
   .dimension-inputs {
       display: grid;
       grid-template-columns: 1fr 1fr;
       gap: 1rem;
       margin-top: 0.5rem;
   }

   .dimension-inputs .checkbox-label {
       grid-column: span 2;
       margin-top: 0.5rem;
   }

   /* Percentage slider */
   .percentage-input {
       display: flex;
       align-items: center;
       gap: 1rem;
       margin-top: 0.5rem;
   }

   /* Preset buttons */
   .preset-buttons {
       display: flex;
       flex-wrap: wrap;
       gap: 0.5rem;
       margin-top: 0.5rem;
   }

   .preset-button {
       padding: 0.5rem 1rem;
       background: #f5f5f5;
       border: none;
       border-radius: 4px;
       cursor: pointer;
       transition: all 0.3s ease;
   }

   .preset-button:hover {
       background: #e9e9e9;
   }

   /* Process button */
   .process-button {
       display: flex;
       align-items: center;
       justify-content: center;
       gap: 8px;
       width: 100%;
       padding: 0.75rem 1.5rem;
       background: var(--burgundy);
       color: white;
       border: none;
       border-radius: 4px;
       cursor: pointer;
       font-weight: 500;
       margin-top: 1rem;
       transition: all 0.3s ease;
   }

   .process-button:hover {
       background: #d04831;
       transform: translateY(-2px);
   }

   /* Dimension info */
   .dimension-info {
       display: flex;
       justify-content: space-between;
       margin-top: 1rem;
       color: var(--dark-chocolate);
   }

   /* Artistic Filters Grid */
   .filter-grid {
       display: grid;
       grid-template-columns: repeat(3, 1fr);
       gap: 1rem;
       margin-bottom: 1.5rem;
   }

   .filter-option:nth-child(7),
   .filter-option:nth-child(8) {
       grid-column: auto; /* Reset any specific positioning */
   }

   .filter-option {
       cursor: pointer;
       border-radius: 8px;
       overflow: hidden;
       transition: all 0.3s ease;
       box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
       background: #f8f8f8;
       border: 2px solid transparent;
   }

   .filter-option:hover {
       transform: translateY(-4px);
       box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
       background: #f0f0f0;
   }

   .filter-option.selected {
       border-color: var(--burgundy);
       box-shadow: 0 0 0 2px rgba(200, 58, 45, 0.3);
       background: #fff;
   }

   .filter-preview {
       padding: 1.5rem;
       height: 120px;
       display: flex;
       flex-direction: column;
       align-items: center;
       justify-content: center;
       gap: 0.75rem;
       text-align: center;
       min-height: 120px;
   }

   .filter-preview i {
       font-size: 2rem;
       color: var(--burgundy);
       margin-bottom: 0.75rem;
   }

   .filter-preview span {
       font-weight: 500;
       color: var(--dark-chocolate);
   }

   /* Text position control */
   .text-position-control,
   .watermark-options {
       display: grid;
       grid-template-columns: 1fr 1fr;
       gap: 1rem;
   }

   .input-group {
       margin-bottom: 1rem;
   }

   .input-group label {
       display: block;
       margin-bottom: 0.5rem;
       color: var(--dark-chocolate);
       font-weight: 500;
   }

   /* Option tabs */
   .option-tabs {
       display: flex;
       gap: 0.5rem;
       margin-bottom: 1rem;
   }

   .option-tab {
       padding: 0.5rem 1rem;
       background: #f5f5f5;
       border: none;
       border-radius: 4px;
       cursor: pointer;
       transition: all 0.3s ease;
   }

   .option-tab:hover {
       background: #e9e9e9;
   }

   .option-tab.active {
       background: var(--burgundy);
       color: white;
   }

   /* Compression info */
   .compression-info {
       background: #f5f5f5;
       padding: 1rem;
       border-radius: 4px;
       margin: 1rem 0;
   }

   .info-item {
       display: flex;
       justify-content: space-between;
       margin-bottom: 0.5rem;
   }

   .info-item:last-child {
       margin-bottom: 0;
   }

   /* Download section */
   .download-section {
       display: flex;
       justify-content: center;
       margin-top: 1rem;
       margin-bottom: 2rem;
   }

   .download-button {
       display: inline-flex;
       align-items: center;
       justify-content: center;
       gap: 8px;
       padding: 0.75rem 1.5rem;
       background: var(--burgundy);
       color: white;
       border-radius: 4px;
       cursor: pointer;
       text-decoration: none;
       font-weight: 500;
       transition: all 0.3s ease;
   }

   .download-button:hover {
       background: #d04831;
       transform: translateY(-2px);
   }

   /* Responsive adjustments */
   @media (max-width: 1024px) {
       .filter-grid {
           grid-template-columns: repeat(2, 1fr); /* Adjusted from repeat(3, 1fr) for 1024px breakpoint */
       }
       .filter-option:nth-last-child(-n+2) { /* Adjusted from nth-last-child(-n+3) */
           grid-column: span 1;
           justify-self: center;
       }
   }

   @media (max-width: 768px) {
       .tool-panel.active {
           grid-template-columns: 1fr;
       }

       .text-position-control,
       .watermark-options {
           grid-template-columns: 1fr;
       }

       .dimension-inputs {
           grid-template-columns: 1fr;
       }

       .filter-grid {
           grid-template-columns: repeat(2, 1fr); /* Switch to 2 columns on smaller screens */
       }
       /* .filter-option:nth-last-child(-n+2) rule from initial 768px block is kept */
   }

   @media (max-width: 480px) {
       .filter-grid {
           grid-template-columns: 1fr; /* Single column on very small screens */
       }
   }

/* Dark Mode Overrides for advanced-consolidated.css */
body.dark-mode .tools-section {
    background: transparent; /* Allow main body gradient */
}

body.dark-mode .tools-container {
    background: var(--dm-section-bg);
    box-shadow: var(--dm-strong-shadow); /* Slightly stronger shadow for main container */
    border: 1px solid var(--dm-border-color);
}

body.dark-mode .tools-container h2 {
    color: var(--dm-text-headings);
}

body.dark-mode .tool-tab {
    background: var(--dm-card-bg);
    color: var(--dm-text-primary);
    border: 1px solid var(--dm-border-color);
}
body.dark-mode .tool-tab:hover {
    background: var(--dm-section-bg); /* Slightly different hover */
    border-color: var(--dm-accent-primary);
}
body.dark-mode .tool-tab.active {
    background: var(--dm-accent-primary);
    color: var(--dm-button-text-color);
    border-color: var(--dm-accent-primary);
}

body.dark-mode .file-input-section label {
    /* background: var(--burgundy) is inherited */
    color: var(--dm-button-text-color);
}
body.dark-mode .file-input-section label:hover {
    background: var(--dm-accent-secondary);
}
body.dark-mode #fileName {
    color: var(--dm-text-primary);
}

body.dark-mode .preview-area,
body.dark-mode .resize-options,
body.dark-mode .filter-options,
body.dark-mode .text-options,
body.dark-mode .compress-options {
    background: var(--dm-card-bg);
    box-shadow: var(--dm-soft-shadow);
    border: 1px solid var(--dm-border-color);
}

body.dark-mode .resize-options h3,
body.dark-mode .filter-options h3, /* Assuming h3 in other option panels */
body.dark-mode .text-options h3,
body.dark-mode .compress-options h3 {
    color: var(--dm-text-headings);
}

body.dark-mode .option-group > label,
body.dark-mode .input-group label,
body.dark-mode .checkbox-label { /* checkbox-label text color */
    color: var(--dm-text-primary);
}

body.dark-mode input[type="number"],
body.dark-mode input[type="text"],
body.dark-mode select {
    background-color: var(--dm-section-bg);
    color: var(--dm-text-primary);
    border-color: var(--dm-border-color);
}
body.dark-mode input[type="number"]:focus,
body.dark-mode input[type="text"]:focus,
body.dark-mode select:focus {
    border-color: var(--dm-accent-primary);
    box-shadow: 0 0 0 2px var(--dm-accent-primary);
}


body.dark-mode input[type="range"] {
    background: rgba(255, 255, 255, 0.1); /* Lighter track */
}
/* Range thumb uses var(--burgundy) - already handled by variable override */

body.dark-mode .preset-button {
    background: var(--dm-section-bg);
    color: var(--dm-text-primary);
    border: 1px solid var(--dm-border-color);
}
body.dark-mode .preset-button:hover {
    background: var(--dm-card-bg); /* Slightly lighter on hover */
    border-color: var(--dm-accent-primary);
}

body.dark-mode .process-button {
    /* background: var(--burgundy) is inherited */
    color: var(--dm-button-text-color);
}
body.dark-mode .process-button:hover {
    background: var(--dm-accent-secondary);
}

body.dark-mode .dimension-info {
    color: var(--dm-text-primary);
}

body.dark-mode .filter-option {
    background: var(--dm-section-bg);
    border-color: var(--dm-border-color);
    box-shadow: var(--dm-soft-shadow);
}
body.dark-mode .filter-option:hover {
    background: var(--dm-card-bg);
    border-color: var(--dm-accent-primary);
}
body.dark-mode .filter-option.selected {
    border-color: var(--dm-accent-primary);
    background: var(--dm-card-bg); /* Ensure selected is distinct */
    box-shadow: 0 0 0 3px var(--dm-accent-primary);
}
body.dark-mode .filter-preview i {
    color: var(--dm-accent-primary); /* Was --burgundy */
}
body.dark-mode .filter-preview span {
    color: var(--dm-text-primary); /* Was --dark-chocolate */
}

body.dark-mode .option-tabs .option-tab { /* These are like .tool-tab */
    background: var(--dm-card-bg);
    color: var(--dm-text-primary);
    border: 1px solid var(--dm-border-color);
}
body.dark-mode .option-tabs .option-tab:hover {
    background: var(--dm-section-bg);
    border-color: var(--dm-accent-primary);
}
body.dark-mode .option-tabs .option-tab.active {
    background: var(--dm-accent-primary);
    color: var(--dm-button-text-color);
    border-color: var(--dm-accent-primary);
}

body.dark-mode .compression-info {
    background: var(--dm-section-bg);
    color: var(--dm-text-primary);
    border: 1px solid var(--dm-border-color);
}
body.dark-mode .info-item {
    /* Text color will be inherited */
}

body.dark-mode .download-button { /* Already styled like .process-button */
    /* background: var(--burgundy) is inherited */
    color: var(--dm-button-text-color);
}
body.dark-mode .download-button:hover {
    background: var(--dm-accent-secondary);
}

/* Placeholder text in preview areas if any */
body.dark-mode .preview-area .placeholder-text {
    color: var(--dm-text-primary);
    opacity: 0.7;
}
